<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>[팁] wordpress 에 https 적용하기 | keen blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="github, github-trend, tech-trend" />
  
  
  
  
  <meta name="description" content="크롬이 https 사이트가 아니면 warning을 띄우게 되었다는 사실이 알려지면서 많은 설치형 블로거들이 난감해 하시는 분들이 있어서 포스팅 합니다. 크롬 도금의 자물쇠… 세 단계 정도로 나뉘어서 해야할 일들이 있을 것입니다. (세 단계 모두 지정된 플랫폼들이 있어서 해당사항이 아니신 분들도 있을 거 같습니다. )  호스팅 서비스 port 설정( Amaz">
<meta name="keywords" content="github, github-trend, tech-trend">
<meta property="og:type" content="article">
<meta property="og:title" content="[팁] wordpress 에 https 적용하기">
<meta property="og:url" content="http://keen.devpools.kr/2017/02/08/[2017-02-08 17:57:12][팁] wordpress 에 https 적용하기/index.html">
<meta property="og:site_name" content="keen blog">
<meta property="og:description" content="크롬이 https 사이트가 아니면 warning을 띄우게 되었다는 사실이 알려지면서 많은 설치형 블로거들이 난감해 하시는 분들이 있어서 포스팅 합니다. 크롬 도금의 자물쇠… 세 단계 정도로 나뉘어서 해야할 일들이 있을 것입니다. (세 단계 모두 지정된 플랫폼들이 있어서 해당사항이 아니신 분들도 있을 거 같습니다. )  호스팅 서비스 port 설정( Amaz">
<meta property="og:locale" content="ko">
<meta property="og:image" content="http://keen.devpools.kr/images/0*ACiAYqim05SWvx4b.jpg">
<meta property="og:image" content="http://keen.devpools.kr/images/0*ykXSSjjeVhrGmC0a.jpg">
<meta property="og:image" content="http://keen.devpools.kr/images/0*N-2R0VXN9-2fdXgX.jpg">
<meta property="og:image" content="http://keen.devpools.kr/images/0*QlcHGPYZuTB9ib8Q.jpg">
<meta property="og:image" content="http://keen.devpools.kr/images/0*3To5wdPO7eUwQLyM.jpg">
<meta property="og:image" content="http://keen.devpools.kr/images/0*QwF0PVgY4gUT-UDL.jp">
<meta property="og:updated_time" content="2017-09-04T09:17:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[팁] wordpress 에 https 적용하기">
<meta name="twitter:description" content="크롬이 https 사이트가 아니면 warning을 띄우게 되었다는 사실이 알려지면서 많은 설치형 블로거들이 난감해 하시는 분들이 있어서 포스팅 합니다. 크롬 도금의 자물쇠… 세 단계 정도로 나뉘어서 해야할 일들이 있을 것입니다. (세 단계 모두 지정된 플랫폼들이 있어서 해당사항이 아니신 분들도 있을 거 같습니다. )  호스팅 서비스 port 설정( Amaz">
<meta name="twitter:image" content="http://keen.devpools.kr/images/0*ACiAYqim05SWvx4b.jpg">
  
    <link rel="alternate" href="/atom.xml" title="keen blog" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="keen blog" rel="home"> keen blog </a>
            
          </h1>
          
          
            <div class="site-description">techblog</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-[2017-02-08 17:57:12][팁] wordpress 에 https 적용하기" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      [팁] wordpress 에 https 적용하기
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/02/08/[2017-02-08 17:57:12][팁] wordpress 에 https 적용하기/" class="article-date">
	  <time datetime="2017-02-08T08:57:12.000Z" itemprop="datePublished">2월 8, 2017</time>
	</a>

       
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>크롬이 https 사이트가 아니면 warning을 띄우게 되었다는 사실이 알려지면서 많은 설치형 블로거들이 난감해 하시는 분들이 있어서 포스팅 합니다.</p>
<p><img src="/images/0*ACiAYqim05SWvx4b.jpg" alt="">크롬 도금의 자물쇠…</p>
<p>세 단계 정도로 나뉘어서 해야할 일들이 있을 것입니다. (세 단계 모두 지정된 플랫폼들이 있어서 해당사항이 아니신 분들도 있을 거 같습니다. )</p>
<ol>
<li>호스팅 서비스 port 설정( Amazon 기준)</li>
<li>웹서버 설정( Ubuntu &amp; Apache2 설정 )</li>
<li>인증서 설치( Let’s Encrypt 설정)</li>
</ol>
<h4 id="1-호스팅-서비스"><a href="#1-호스팅-서비스" class="headerlink" title="1. 호스팅 서비스"></a>1. 호스팅 서비스</h4><p>아마존의 경우는 아마존 콘솔로 들어가셔서</p>
<p>Network &amp; Security -> Security Groups 에 들어가셔서 서비스가 가지고 있는 정책에 맞는 그룹을 선택하신 후에 Inbound Edit을 선택하시고 https 포트로 들어올 수 있도록 작업을 해 주셔야 합니다.</p>
<p><img src="/images/0*ykXSSjjeVhrGmC0a.jpg" alt="">어디서든 들어 올 수 있게</p>
<p>∴이후 아래 설명될 3번 항목만 진행해도 적용이 될 거 같지만 혹시 다른 방법이나 self signed 된 인증서를 통한 설정을 알고 싶은 사람들을 위해서 2번을 설명합니다.</p>
<h4 id="2-Let’s-Encrypt"><a href="#2-Let’s-Encrypt" class="headerlink" title="2. Let’s Encrypt"></a>2. Let’s Encrypt</h4><p>Let’s Encrypt는 무료라서 3개월에 한번씩 갱신해야 되지만 사용할 수 있는 인증서를 만들어 줍니다. 사이트에 들어가서 무언가를 다운로드 받아야 되나 살펴보면 Let’s Encrypt 에서 바로 제공하는 것은 없고 자동화해 주는 툴이 있는 링크를 제공해 줍니다.</p>
<p>2.1. certbot</p>
<p>제가 찾아간 사이트는 바로 certbot이였습니다.</p>
<p><a href="https://certbot.eff.org/" title="https://certbot.eff.org/" target="_blank" rel="external"><strong>Certbot</strong><br>_Automatically enable HTTPS on your website with EFF’s Certbot, deploying Let’s Encrypt certificates._certbot.eff.org</a><a href="https://certbot.eff.org/" target="_blank" rel="external"></a></p>
<p>여기서 작업을 하려면 ubuntu 버전 명령어를 통해 버전을 알아야 합니다.</p>
<pre><code>$cat /etc/\*releaseDISTRIB\_ID=Ubuntu  
DISTRIB\_RELEASE=14.04  
DISTRIB\_CODENAME=trusty  
DISTRIB\_DESCRIPTION=&quot;Ubuntu 14.04.3 LTS&quot;  
NAME=&quot;Ubuntu&quot;  
VERSION=&quot;14.04.3 LTS, Trusty Tahr&quot;  
ID=ubuntu  
ID\_LIKE=debian  
PRETTY\_NAME=&quot;Ubuntu 14.04.3 LTS&quot;  
VERSION\_ID=&quot;14.04&quot;  
HOME\_URL=&quot;http://www.ubuntu.com/&quot;  
SUPPORT\_URL=&quot;http://help.ubuntu.com/&quot;  
BUG\_REPORT\_URL=&quot;http://bugs.launchpad.net/ubuntu/&quot;
</code></pre><p><img src="/images/0*N-2R0VXN9-2fdXgX.jpg" alt="">certbot 좋아용</p>
<p>이렇게 선택하고 나면 해당 installation 페이지로 안내해 줍니다.</p>
<p>저의 경우는 다음 페이지가 되겠죠.</p>
<p><a href="https://certbot.eff.org/#ubuntutrusty-apache" title="https://certbot.eff.org/#ubuntutrusty-apache" target="_blank" rel="external"><strong>Certbot</strong><br>_Automatically enable HTTPS on your website with EFF’s Certbot, deploying Let’s Encrypt certificates._certbot.eff.org</a><a href="https://certbot.eff.org/#ubuntutrusty-apache" target="_blank" rel="external"></a></p>
<p>2.2. 인스톨</p>
<p>2.3. 실행인스톨 하고 chmod로 실행할 수 있도록 만들어 줍니다.</p>
<pre><code>$ ./certbot-auto
</code></pre><p>그리고 저 명령어를 한번 실행해 주면 자동적으로 아파치를 찾아서 바꿔줘야 할 옵션들을 자동으로 찾아서 바꿔줍니다.</p>
<p><img src="/images/0*QlcHGPYZuTB9ib8Q.jpg" alt="">이런 형태의 아웃풋들이 출력됩니다. 설정들을 지속적으로 물어봅니다.</p>
<p>그러고 나면 warning 이 더 이상 뜨지 않습니다.</p>
<p><img src="/images/0*3To5wdPO7eUwQLyM.jpg" alt=""></p>
<p>2.4. 갱신</p>
<p>3개월에 한번씩 갱신하기 위해서는 아래의 명령어를 cron 잡에 등록해서 작업하시면 됩니다.</p>
<pre><code>$./path/to/certbot-auto renew --quiet --no-self-upgrade
</code></pre><p>아래 내용은 2번까지 하신 분들은 크게 필요하지 않을지도 모르지만 혹시라도 https 만 적용하기 위해서 필요하신 분들을 위해서 남겨둡니다. Self-signed 인증서를 쓰는 경우인데 크롬 버전이 올라가면 이 경우는 에러는 여전히 뜰 것으로 예상됩니다.</p>
<h4 id="3-웹서버-설정-Manually"><a href="#3-웹서버-설정-Manually" class="headerlink" title="3. 웹서버 설정(Manually)"></a>3. 웹서버 설정(Manually)</h4><p>우분투의 경우는 아파치, a2enmod등을 가지고 생각보다 손쉽게 작업을 진행할 수 있습니다.</p>
<p>아래의 명령어들은 혹시 권한이 필요한 경우가 생기면 sudo를 사용해서 진행하시면 됩니다.</p>
<p>3.1. SSL 모듈 설치</p>
<pre><code>$sudo a2enmod ssl  

$sudo service apache2 restart
</code></pre><p>3.2. Self-signed 인증서 만들기</p>
<p>a2enmod는 apache2 모듈설정을 자동화해주는 스크립트입니다. SSL을 설치하고 재시작해 줍니다.(<a href="http://man.he.net/man8/a2enmod" target="_blank" rel="external">http://man.he.net/man8/a2enmod</a>)</p>
<pre><code>`$sudo mkdir /etc/apache2/ssl`

`$sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout   
/etc/apache2/ssl/self_signed.key   
-out /etc/apache2/ssl/self_signed.crt`
</code></pre><p>3.3. 버추얼 호스트 설정파일 만들기</p>
<pre><code>`$sudo vi /etc/apache2/sites-available/default-ssl.conf`
</code></pre><p>로 파일을 열어서 아래와 같이 편집해 줍니다.</p>
<pre><code>&lt;IfModule mod\_ssl.c\&gt;  
&lt;VirtualHost \_default\_:443\&gt;  
ServerAdmin ehrudxo@gmail.com  
ServerName devpools.kr  
ServerAlias [www.devpools.kr][anchor4]  
DocumentRoot /somewhere/  
ErrorLog ${APACHE\_LOG\_DIR}/error.log  
CustomLog ${APACHE\_LOG\_DIR}/access.log combined  
SSLEngine on  
SSLCertificateFile /etc/apache2/ssl/self\_signed.crt  
SSLCertificateKeyFile /etc/apache2/ssl/self\_signed.key  
&lt;FilesMatch &quot;\\.(cgi|shtml|phtml|php)$&quot;\&gt;  
SSLOptions +StdEnvVars  
&lt;/FilesMatch\&gt;  
&lt;Directory /usr/lib/cgi-bin\&gt;  
SSLOptions +StdEnvVars  
&lt;/Directory\&gt;  
BrowserMatch &quot;MSIE \[2-6\]&quot; \\  
nokeepalive ssl-unclean-shutdown \\  
downgrade-1.0 force-response-1.0  
BrowserMatch &quot;MSIE \[17-9\]&quot; ssl-unclean-shutdown  
&lt;/VirtualHost\&gt;  
&lt;/IfModule\&gt;
</code></pre><p>3.4. 활성화 하기</p>
<p>이제 다음 명령어로 활성화 하고 재 시작해 줍니다.</p>
<pre><code>`$sudo a2ensite default-ssl.conf  
$`sudo service apache2 restart
</code></pre><p>이제 접속해 보시면 잘 돌아가시는 걸 확인할 수 있습니다.</p>
<p><img src="/images/0*QwF0PVgY4gUT-UDL.jp" alt="">앗싸~</p>
<hr>
<p><em>Originally published at </em><a href="http://devpools.kr/2017/02/08/%ed%8c%81-wordpress-%ec%97%90-https-%ec%a0%81%ec%9a%a9%ed%95%98%ea%b8%b0/" target="_blank" rel="external"><em>개발바보들</em></a><em>.</em></p>
<p>By <a href="https://medium.com/@keendev" target="_blank" rel="external">Keen Dev</a> on <a href="https://medium.com/p/8a82a9fc3b99" target="_blank" rel="external">February 8, 2017</a>.</p>
<p>Exported from <a href="https://medium.com" target="_blank" rel="external">Medium</a> on May 31, 2017.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github-github-trend-tech-trend/">github, github-trend, tech-trend</a></li></ul>

      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/05/[2017-03-05 15:10:19]ESLint with WebStorm/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ESLint with WebStorm
        
      </div>
    </a>
  
  
    <a href="/2017/02/01/[2017-02-01 10:29:09]서버리스 아키텍처 소셜미디어 개발기 7편/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">서버리스 아키텍처 소셜미디어 개발기 7편</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-호스팅-서비스"><span class="nav-number">1.</span> <span class="nav-text">1. 호스팅 서비스</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Let’s-Encrypt"><span class="nav-number">2.</span> <span class="nav-text">2. Let’s Encrypt</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-웹서버-설정-Manually"><span class="nav-number">3.</span> <span class="nav-text">3. 웹서버 설정(Manually)</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2017 keen blog All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>








	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
